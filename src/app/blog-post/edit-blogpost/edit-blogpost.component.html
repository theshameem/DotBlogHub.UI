<div class="container">
  <h1>Edit Blog Post</h1>

  <ng-container *ngIf="blogPostModel">
    <div class="blog-form">
      <form #form="ngForm" fxLayout="column" fxLayoutGap="24px">
        <div class="form-group">
          <label>Title</label>
          <input
            type="text"
            [(ngModel)]="blogPostModel.title"
            [ngModelOptions]="{ standalone: true }"
            class="form-control"
            placeholder="Enter Title"
          />
        </div>

        <div class="form-group">
          <label>Url Handle</label>
          <input
            type="text"
            [(ngModel)]="blogPostModel.urlHandle"
            [ngModelOptions]="{ standalone: true }"
            class="form-control"
            placeholder="Enter Url Handle"
          />
        </div>

        <div class="form-group">
          <label>Short Description</label>
          <input
            type="text"
            [(ngModel)]="blogPostModel.shortDescription"
            [ngModelOptions]="{ standalone: true }"
            class="form-control"
            placeholder="Enter Short Description"
          />
        </div>

        <div class="form-group">
          <label>Content</label>
          <textarea
            type="text"
            [(ngModel)]="blogPostModel.content"
            [ngModelOptions]="{ standalone: true }"
            class="form-control"
          >
          </textarea>
        </div>

        <div class="form-group">
          <label style="margin-right: 12px">Featured Image Url</label>
          <input
            type="file"
            [(ngModel)]="blogPostModel.featuredImageUrl"
            [ngModelOptions]="{ standalone: true }"
            class="form-control-file"
          />
        </div>

        <div class="mt-3">
          <label class="form-label">Published Date</label>
          <input
            type="date"
            value="{{ blogPostModel.publishedDate }}"
            [ngModel]="blogPostModel.publishedDate | date : 'yyyy-MM-dd'"
            (ngModelChange)="blogPostModel.publishedDate = $event"
            [ngModelOptions]="{ standalone: true }"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label>Author</label>
          <input
            type="text"
            [(ngModel)]="blogPostModel.author"
            [ngModelOptions]="{ standalone: true }"
            class="form-control"
          />
        </div>

        <div class="form-check">
          <input
            type="checkbox"
            [(ngModel)]="blogPostModel.isVisible"
            [ngModelOptions]="{ standalone: true }"
            class="form-check-input"
          />
          <label class="form-check-label">Is Visible?</label>
        </div>

        <div class="mt-3">
          <label>Categories</label>
          <ng-container *ngIf="categories$ | async as categories">
            <select
              name="blogPostModel.categories"
              id="categories"
              class="form-control"
              multiple
              [(ngModel)]="selectedCategories"
            >
              <option *ngFor="let category of categories" [value]="category.id">
                {{ category.name }}
              </option>
            </select>
          </ng-container>
        </div>
      </form>
      <button
        type="submit"
        (click)="onFormSubmit()"
        class="btn btn-primary mt-4"
      >
        Submit
      </button>
    </div>
  </ng-container>
</div>
